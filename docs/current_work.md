ui.py has become too big and it's becoming difficult to manage the code.

refactor it for better modularity and reuse. make sure you test it appropriately
